<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Essay Platform</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="header-left">
                <h1 class="logo" id="home-link" style="cursor: pointer;">
                    <i class="fas fa-feather-alt"></i>
                    EssayPro
                </h1>
            </div>
            <div class="header-center">
                <input type="text" id="essay-title" placeholder="Untitled Essay" class="title-input">
            </div>
            <div class="header-right">
                <div id="autosave-status" class="autosave-status">
                    <i class="fas fa-circle"></i>
                </div>
                <button id="version-history-btn" class="btn btn-secondary">
                    <i class="fas fa-history"></i> History
                </button>
                <button id="load-btn" class="btn btn-secondary">
                    <i class="fas fa-home"></i> Home
                </button>
                <button id="chat-reopen-btn" class="btn btn-secondary" style="display: none;">
                    <i class="fas fa-comments"></i> Chat
                </button>
                <button id="theme-toggle" class="btn btn-icon">
                    <i class="fas fa-moon"></i>
                </button>
            </div>
        </header>

        <!-- Toolbar -->
        <div class="toolbar">
            <div class="toolbar-section">
                <div class="format-group">
                    <button class="format-btn" data-command="bold" title="Bold (Ctrl+B)">
                        <i class="fas fa-bold"></i>
                    </button>
                    <button class="format-btn" data-command="italic" title="Italic (Ctrl+I)">
                        <i class="fas fa-italic"></i>
                    </button>
                    <button class="format-btn" data-command="underline" title="Underline (Ctrl+U)">
                        <i class="fas fa-underline"></i>
                    </button>
                    <div class="toolbar-divider"></div>
                    <select id="heading-select" class="heading-select">
                        <option value="">Normal Text</option>
                        <option value="h1">Heading 1</option>
                        <option value="h2">Heading 2</option>
                        <option value="h3">Heading 3</option>
                    </select>
                </div>
            </div>
            
            <div class="toolbar-section">
                <div class="stats-group">
                    <span class="stat-item">
                        <i class="fas fa-file-word"></i>
                        <span id="word-count" class="stat-value">0</span> words
                    </span>
                    <span class="stat-item">
                        <i class="fas fa-keyboard"></i>
                        <span id="char-count" class="stat-value">0</span> chars
                    </span>
                    <span class="stat-item">
                        <i class="fas fa-paragraph"></i>
                        <span id="sentence-count" class="stat-value">0</span> sentences
                    </span>
                    <span class="stat-item">
                        <i class="fas fa-align-left"></i>
                        <span id="paragraph-count" class="stat-value">0</span> paragraphs
                    </span>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Editor Area -->
            <main class="editor-area">
                <div id="editor" contenteditable="true" class="editor">
                    <p>Start writing your essay here...</p>
                </div>
            </main>

            <!-- Chat Panel -->
            <aside class="chat-panel">
                <div class="resize-handle"></div>
                <div class="chat-header">
                    <div class="chat-header-left">
                        <h3>AI Assistant</h3>
                    </div>
                    <div class="chat-header-right">
                        <button id="clear-chat" class="btn btn-icon" title="Clear Chat">
                            <i class="fas fa-trash"></i>
                        </button>
                        <button id="chat-toggle" class="btn btn-icon" title="Close Chat">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                </div>
                <div class="ai-tools-section">
                    <div class="ai-tools-header">
                        <span class="ai-tools-title">AI Tools</span>
                    </div>
                    <div class="ai-tools-buttons">
                        <button id="ai-detector-btn" class="btn btn-ai-tool" title="Enhanced AI Detector">
                            <i class="fas fa-robot"></i>
                            <span>AI Detector</span>
                        </button>
                        <button id="humanizer-btn" class="btn btn-ai-tool" title="Humanizer">
                            <i class="fas fa-user"></i>
                            <span>Humanizer</span>
                        </button>
                        <button id="test-ai-btn" class="btn btn-ai-tool" title="Test AI Detection">
                            <i class="fas fa-flask"></i>
                            <span>Test AI</span>
                        </button>
                    </div>
                </div>
                <div class="chat-messages" id="chat-messages">
                    <div class="message assistant-message">
                        <i class="fas fa-robot"></i>
                        <div class="message-content">
                            <span>Hi! I'm your AI writing assistant. I can help you with:</span>
                            <div class="quick-actions">
                                <button class="quick-action-btn" data-prompt="Help me brainstorm ideas for my essay">üí° Brainstorm Ideas</button>
                                <button class="quick-action-btn" data-prompt="How can I improve my introduction?">‚úçÔ∏è Improve Writing</button>
                                <button class="quick-action-btn" data-prompt="Check my essay for grammar and style">üìù Grammar Check</button>
                                <button class="quick-action-btn" data-prompt="Help me write a conclusion">üéØ Write Conclusion</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="chat-input-area">
                    <input type="text" id="chat-input" placeholder="Ask for writing help..." class="chat-input">
                    <button id="send-chat" class="btn btn-primary">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </aside>
        </div>
    </div>

    <!-- Modals -->
    <div id="load-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Load Essay</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div id="essays-list" class="essays-list">
                    <!-- Essays will be loaded here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Version History Modal -->
    <div id="version-history-modal" class="modal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h3>Version History</h3>
                <button class="modal-close" id="version-modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="version-history-container">
                    <div class="versions-list">
                        <h4>Saved Versions</h4>
                        <div id="versions-list" class="versions-list-content">
                            <!-- Versions will be loaded here -->
                        </div>
                    </div>
                    <div class="version-preview">
                        <div class="version-preview-header">
                            <h4>Preview</h4>
                            <div class="version-actions">
                                <button id="restore-version-btn" class="btn btn-primary" disabled>
                                    <i class="fas fa-undo"></i> Restore This Version
                                </button>
                            </div>
                        </div>
                        <div id="version-preview-content" class="version-preview-content">
                            Select a version to preview
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>