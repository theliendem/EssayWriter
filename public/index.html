<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Essay Platform</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="header-left">
                <h1 class="logo" id="home-link" style="cursor: pointer;">
                    <i class="fas fa-feather-alt"></i>
                    EssayPro
                </h1>
            </div>
            <div class="header-center">
                <input type="text" id="essay-title" placeholder="Untitled Essay" class="title-input">
            </div>
            <div class="header-right">
                <button id="version-history-btn" class="btn btn-secondary">
                    <div id="autosave-status" class="autosave-status">
                        <i class="fas fa-circle"></i>
                    </div>
                    <i class="fas fa-history"></i> History
                </button>
                <button id="chat-reopen-btn" class="btn btn-secondary" style="display: none;">
                    <i class="fas fa-comments"></i> Chat
                </button>
                <button id="zen-mode-toggle" class="btn btn-icon" title="Zen Mode">
                    <i class="fas fa-leaf"></i>
                </button>
                <button id="settings-toggle" class="btn btn-icon" title="Settings">
                    <i class="fas fa-cog"></i>
                </button>
            </div>
        </header>

        <!-- Toolbar -->
        <div class="toolbar">
            <div class="toolbar-section">
                <div class="format-group">
                    <button class="format-btn" data-command="bold" title="Bold (Ctrl+B)">
                        <i class="fas fa-bold"></i>
                    </button>
                    <button class="format-btn" data-command="italic" title="Italic (Ctrl+I)">
                        <i class="fas fa-italic"></i>
                    </button>
                    <button class="format-btn" data-command="underline" title="Underline (Ctrl+U)">
                        <i class="fas fa-underline"></i>
                    </button>
                    <div class="toolbar-divider"></div>
                    <select id="heading-select" class="heading-select">
                        <option value="">Normal Text</option>
                        <option value="h1">Heading 1</option>
                        <option value="h2">Heading 2</option>
                        <option value="h3">Heading 3</option>
                    </select>
                </div>
            </div>
            
            <div class="toolbar-section">
                <div class="stats-group">
                    <span class="stat-item">
                        <i class="fas fa-file-word"></i>
                        <span id="word-count" class="stat-value">0</span> words
                    </span>
                    <span class="stat-item">
                        <i class="fas fa-keyboard"></i>
                        <span id="char-count" class="stat-value">0</span> chars
                    </span>
                    <span class="stat-item">
                        <i class="fas fa-paragraph"></i>
                        <span id="sentence-count" class="stat-value">0</span> sentences
                    </span>
                    <span class="stat-item">
                        <i class="fas fa-align-left"></i>
                        <span id="paragraph-count" class="stat-value">0</span> paragraphs
                    </span>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Editor Area -->
            <main class="editor-area">
                <!-- Floating Prompt Section -->
                <div id="prompt-section" class="prompt-section">
                    <div class="prompt-header">
                        <i class="fas fa-lightbulb"></i>
                        <span>Essay Prompt</span>
                        <button id="toggle-prompt" class="btn btn-icon" title="Toggle Prompt">
                            <i class="fas fa-chevron-up"></i>
                        </button>
                    </div>
                    <div class="prompt-content">
                        <div id="prompt-editor" contenteditable="true" class="prompt-editor" placeholder="Enter your essay prompt or assignment instructions...">
                        </div>
                    </div>
                </div>

                
                <div id="editor" contenteditable="true" class="editor" placeholder="Start writing your essay here...">
                </div>

                <!-- Zen Mode Header -->
                <div id="zen-header" class="zen-header" style="display: none;">
                    <div class="zen-header-content">
                        <!-- Left side: Stats -->
                        <div class="zen-header-left">
                            <div class="zen-stats-group" id="zen-stats-group" style="display: none;">
                                <span class="zen-stat">
                                    <span id="zen-word-count">0</span> words
                                </span>
                                <span class="zen-stat">
                                    <span id="zen-char-count">0</span> chars
                                </span>
                                <span class="zen-stat">
                                    <span id="zen-sentence-count">0</span> sentences
                                </span>
                                <span class="zen-stat">
                                    <span id="zen-paragraph-count">0</span> paragraphs
                                </span>
                            </div>
                        </div>

                        <!-- Center: Controls -->
                        <div class="zen-header-center">
                            <button id="zen-stats-toggle" class="zen-control-btn" title="Toggle Stats">
                                <i class="fas fa-chart-bar"></i>
                            </button>
                            <button id="zen-format-toggle" class="zen-control-btn" title="Toggle Formatting">
                                <i class="fas fa-font"></i>
                            </button>
                            <button id="zen-exit" class="zen-control-btn" title="Exit Zen Mode">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>

                        <!-- Right side: Formatting -->
                        <div class="zen-header-right">
                            <div class="zen-format-group" id="zen-format-group" style="display: none;">
                                <button class="zen-format-btn" data-command="bold" title="Bold">
                                    <i class="fas fa-bold"></i>
                                </button>
                                <button class="zen-format-btn" data-command="italic" title="Italic">
                                    <i class="fas fa-italic"></i>
                                </button>
                                <button class="zen-format-btn" data-command="underline" title="Underline">
                                    <i class="fas fa-underline"></i>
                                </button>
                                <select id="zen-heading-select" class="zen-heading-select">
                                    <option value="">Normal</option>
                                    <option value="h1">H1</option>
                                    <option value="h2">H2</option>
                                    <option value="h3">H3</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
            </main>

            <!-- Chat Panel -->
            <aside class="chat-panel">
                <div class="resize-handle"></div>
                <div class="chat-header">
                    <div class="chat-header-left">
                        <h3>AI Assistant</h3>
                    </div>
                    <div class="chat-header-right">
                        <button id="clear-chat" class="btn btn-icon" title="Clear Chat">
                            <i class="fas fa-trash"></i>
                        </button>
                        <button id="chat-toggle" class="btn btn-icon" title="Close Chat">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                </div>
                <div class="chat-messages" id="chat-messages">
                    <div class="message assistant-message">
                        <i class="fas fa-robot"></i>
                        <div class="message-content">
                            <span>Hi! I'm your AI writing assistant. I can help you with writing, or use these AI tools:</span>
                            <div class="ai-tools-inline">
                                <button id="ai-detector-btn" class="btn btn-ai-tool" title="Enhanced AI Detector">
                                    <i class="fas fa-robot"></i>
                                    <span>AI Detector</span>
                                </button>
                                <button id="humanizer-btn" class="btn btn-ai-tool" title="Humanizer">
                                    <i class="fas fa-user"></i>
                                    <span>Humanizer</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="quick-actions-carousel">
                    <div class="carousel-container">
                        <button class="carousel-nav carousel-prev" id="carousel-prev">
                            <i class="fas fa-chevron-left"></i>
                        </button>
                        <div class="carousel-track">
                            <button class="quick-action-chip" data-prompt="Help me brainstorm ideas for my essay">💡 Brainstorm Ideas</button>
                            <button class="quick-action-chip" data-prompt="How can I improve my introduction?">✍️ Improve Writing</button>
                            <button class="quick-action-chip" data-prompt="Check my essay for grammar and style">📝 Grammar Check</button>
                            <button class="quick-action-chip" data-prompt="Help me write a conclusion">🎯 Write Conclusion</button>
                        </div>
                        <button class="carousel-nav carousel-next" id="carousel-next">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                </div>
                <div class="chat-input-area">
                    <input type="text" id="chat-input" placeholder="Ask for writing help..." class="chat-input">
                    <button id="send-chat" class="btn btn-primary">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </aside>
        </div>
    </div>

    <!-- Modals -->
    <div id="load-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Load Essay</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div id="essays-list" class="essays-list">
                    <!-- Essays will be loaded here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Version History Modal -->
    <div id="version-history-modal" class="modal">
        <div class="modal-content modal-large resizable-modal">
            <!-- Resize handles -->
            <div class="resize-handle n"></div>
            <div class="resize-handle s"></div>
            <div class="resize-handle e"></div>
            <div class="resize-handle w"></div>
            <div class="resize-handle nw"></div>
            <div class="resize-handle ne"></div>
            <div class="resize-handle sw"></div>
            <div class="resize-handle se"></div>

            <div class="modal-header">
                <h3>Version History</h3>
                <button class="modal-close" id="version-modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="version-history-container">
                    <div class="versions-list">
                        <h4>Saved Versions</h4>
                        <div id="versions-list" class="versions-list-content">
                            <!-- Versions will be loaded here -->
                        </div>
                    </div>
                    <div class="version-preview">
                        <div class="version-preview-header">
                            <h4>Preview</h4>
                            <div class="version-actions">
                                <button id="restore-version-btn" class="btn btn-primary" disabled>
                                    <i class="fas fa-undo"></i> Restore This Version
                                </button>
                            </div>
                        </div>
                        <div id="version-preview-content" class="version-preview-content">
                            Select a version to preview
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div id="settings-modal" class="modal">
        <div class="modal-content modal-small">
            <div class="modal-header">
                <h3>Settings</h3>
                <button class="modal-close" id="settings-modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="settings-container">
                    <div class="setting-group">
                        <div class="setting-item">
                            <div class="setting-label">
                                <h4>Appearance</h4>
                                <p>Choose your preferred theme</p>
                            </div>
                            <div class="setting-control">
                                <div class="theme-toggle-group">
                                    <button id="light-theme-btn" class="theme-btn active" data-theme="light">
                                        <i class="fas fa-sun"></i>
                                        <span>Light</span>
                                    </button>
                                    <button id="dark-theme-btn" class="theme-btn" data-theme="dark">
                                        <i class="fas fa-moon"></i>
                                        <span>Dark</span>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div class="setting-item">
                            <div class="setting-label">
                                <h4>Word Count Limit</h4>
                                <p>Set maximum word count (0 = no limit)</p>
                            </div>
                            <div class="setting-control">
                                <input type="number" id="max-word-count" class="setting-input" min="0" placeholder="No limit" />
                            </div>
                        </div>

                        <div class="setting-item">
                            <div class="setting-label">
                                <h4>Essay Tags</h4>
                                <p>Add tags to organize your essay</p>
                            </div>
                            <div class="setting-control">
                                <div class="tags-input-wrapper" id="header-tags-input-wrapper">
                                    <input type="text" id="header-tags-input" placeholder="Add tags..." class="tags-input">
                                </div>
                                <div id="header-tags-suggestions" class="tags-suggestions" style="display: none;"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>